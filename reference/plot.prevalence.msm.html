<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Plot of observed and expected prevalences — plot.prevalence.msm • msm</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plot of observed and expected prevalences — plot.prevalence.msm"><meta name="description" content="Provides a rough indication of goodness of fit of a multi-state model, by
estimating the observed numbers of individuals occupying a state at a series
of times, and plotting these against forecasts from the fitted model, for
each state.  Observed prevalences are indicated as solid lines, expected
prevalences as dashed lines."><meta property="og:description" content="Provides a rough indication of goodness of fit of a multi-state model, by
estimating the observed numbers of individuals occupying a state at a series
of times, and plotting these against forecasts from the fitted model, for
each state.  Observed prevalences are indicated as solid lines, expected
prevalences as dashed lines."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">msm</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/chjackson/msm/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Plot of observed and expected prevalences</h1>
      <small class="dont-index">Source: <a href="https://github.com/chjackson/msm/blob/master/R/prevalence.R" class="external-link"><code>R/prevalence.R</code></a></small>
      <div class="d-none name"><code>plot.prevalence.msm.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Provides a rough indication of goodness of fit of a multi-state model, by
estimating the observed numbers of individuals occupying a state at a series
of times, and plotting these against forecasts from the fitted model, for
each state.  Observed prevalences are indicated as solid lines, expected
prevalences as dashed lines.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'prevalence.msm'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  mintime <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  maxtime <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  timezero <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  initstates <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  interp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"start"</span>, <span class="st">"midpoint"</span><span class="op">)</span>,</span>
<span>  censtime <span class="op">=</span> <span class="cn">Inf</span>,</span>
<span>  subset <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  covariates <span class="op">=</span> <span class="st">"population"</span>,</span>
<span>  misccovariates <span class="op">=</span> <span class="st">"mean"</span>,</span>
<span>  piecewise.times <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  piecewise.covariates <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Times"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"Prevalence (%)"</span>,</span>
<span>  lwd.obs <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  lwd.exp <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  lty.obs <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  lty.exp <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  col.obs <span class="op">=</span> <span class="st">"blue"</span>,</span>
<span>  col.exp <span class="op">=</span> <span class="st">"red"</span>,</span>
<span>  legend.pos <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A fitted multi-state model produced by <code><a href="msm.html">msm</a></code>.</p></dd>


<dt id="arg-mintime">mintime<a class="anchor" aria-label="anchor" href="#arg-mintime"></a></dt>
<dd><p>Minimum time at which to compute the observed and expected
prevalences of states.</p></dd>


<dt id="arg-maxtime">maxtime<a class="anchor" aria-label="anchor" href="#arg-maxtime"></a></dt>
<dd><p>Maximum time at which to compute the observed and expected
prevalences of states.</p></dd>


<dt id="arg-timezero">timezero<a class="anchor" aria-label="anchor" href="#arg-timezero"></a></dt>
<dd><p>Initial time of the Markov process. Expected values are
forecasted from here. Defaults to the minimum of the observation times given
in the data.</p></dd>


<dt id="arg-initstates">initstates<a class="anchor" aria-label="anchor" href="#arg-initstates"></a></dt>
<dd><p>Optional vector of the same length as the number of
states. Gives the numbers of individuals occupying each state at the initial
time, to be used for forecasting expected prevalences.  The default is those
observed in the data.  These should add up to the actual number of people in
the study at the start.</p></dd>


<dt id="arg-interp">interp<a class="anchor" aria-label="anchor" href="#arg-interp"></a></dt>
<dd><p>Interpolation method for observed states, see
<code><a href="prevalence.msm.html">prevalence.msm</a></code>.</p></dd>


<dt id="arg-censtime">censtime<a class="anchor" aria-label="anchor" href="#arg-censtime"></a></dt>
<dd><p>Subject-specific maximum follow-up times, see
<code><a href="prevalence.msm.html">prevalence.msm</a></code>.</p></dd>


<dt id="arg-subset">subset<a class="anchor" aria-label="anchor" href="#arg-subset"></a></dt>
<dd><p>Vector of the subject identifiers to calculated observed
prevalences for.</p></dd>


<dt id="arg-covariates">covariates<a class="anchor" aria-label="anchor" href="#arg-covariates"></a></dt>
<dd><p>Covariate values for which to forecast expected state
occupancy.  See <code><a href="prevalence.msm.html">prevalence.msm</a></code> — if this function runs too
slowly, as it may if there are continuous covariates, replace
<code>covariates="population"</code> with <code>covariates="mean"</code>.</p></dd>


<dt id="arg-misccovariates">misccovariates<a class="anchor" aria-label="anchor" href="#arg-misccovariates"></a></dt>
<dd><p>(Misclassification models only) Values of covariates
on the misclassification probability matrix. See
<code><a href="prevalence.msm.html">prevalence.msm</a></code>.</p></dd>


<dt id="arg-piecewise-times">piecewise.times<a class="anchor" aria-label="anchor" href="#arg-piecewise-times"></a></dt>
<dd><p>Times at which piecewise-constant intensities change.
See <code><a href="prevalence.msm.html">prevalence.msm</a></code>.</p></dd>


<dt id="arg-piecewise-covariates">piecewise.covariates<a class="anchor" aria-label="anchor" href="#arg-piecewise-covariates"></a></dt>
<dd><p>Covariates on which the piecewise-constant
intensities depend. See <code><a href="prevalence.msm.html">prevalence.msm</a></code>.</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>x axis label.</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>y axis label.</p></dd>


<dt id="arg-lwd-obs">lwd.obs<a class="anchor" aria-label="anchor" href="#arg-lwd-obs"></a></dt>
<dd><p>Line width for observed prevalences. See <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></code>.</p></dd>


<dt id="arg-lwd-exp">lwd.exp<a class="anchor" aria-label="anchor" href="#arg-lwd-exp"></a></dt>
<dd><p>Line width for expected prevalences. See <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></code>.</p></dd>


<dt id="arg-lty-obs">lty.obs<a class="anchor" aria-label="anchor" href="#arg-lty-obs"></a></dt>
<dd><p>Line type for observed prevalences. See <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></code>.</p></dd>


<dt id="arg-lty-exp">lty.exp<a class="anchor" aria-label="anchor" href="#arg-lty-exp"></a></dt>
<dd><p>Line type for expected prevalences. See <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></code>.</p></dd>


<dt id="arg-col-obs">col.obs<a class="anchor" aria-label="anchor" href="#arg-col-obs"></a></dt>
<dd><p>Line colour for observed prevalences. See <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></code>.</p></dd>


<dt id="arg-col-exp">col.exp<a class="anchor" aria-label="anchor" href="#arg-col-exp"></a></dt>
<dd><p>Line colour for expected prevalences. See <code><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></code>.</p></dd>


<dt id="arg-legend-pos">legend.pos<a class="anchor" aria-label="anchor" href="#arg-legend-pos"></a></dt>
<dd><p>Vector of the \(x\) and \(y\) position, respectively,
of the legend.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Further arguments to be passed to the generic <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></code>
function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>See <code><a href="prevalence.msm.html">prevalence.msm</a></code> for details of the assumptions underlying
this method.</p>
<p>Observed prevalences are plotted with a solid line, and expected prevalences
with a dotted line.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Gentleman, R.C., Lawless, J.F., Lindsey, J.C. and Yan, P.
Multi-state Markov models for analysing incomplete disease history data with
illustrations for HIV disease.  <em>Statistics in Medicine</em> (1994) 13(3):
805–821.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="prevalence.msm.html">prevalence.msm</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christopher Jackson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

